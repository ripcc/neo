<!doctype html><html><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/css/pagination.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel=stylesheet><script async src=https://platform.twitter.com/widgets.js></script><link rel=stylesheet href=/css/theme/index.css><script src=/js/main.js></script><script src=/js/togglethreads.js></script><title>Neo Archive</title></head><body><header class=siteHeader><nav><a href=//localhost:1313/><ion-icon name=home-outline></ion-icon></a><a href=//localhost:1313/search><ion-icon name=search-outline></ion-icon></a></nav></header><main class=SearchPage><div id=SearchBar><input type=text id=search-input placeholder="Search posts...">
<button id=search-button>Search</button></div><dialog id=postModal><div class=modal-content><header class=modalheader><button id=close-popup class=close-btn>
<ion-icon name=close-outline></ion-icon></button>
<button id=copy-outline class=copy-btn>
<ion-icon name=copy-outline></ion-icon></button></header><div id=post-content class=post-content></div></div></dialog><div id=results-info></div><div id=search-results></div></main><script src=https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js></script><script async src=https://platform.twitter.com/widgets.js></script><script>const username="requeefiem";let nav=document.querySelector(".siteHeader");const input=document.getElementById("search-input"),searchBar=document.getElementById("SearchBar"),results=document.getElementById("search-results"),searchButton=document.getElementById("search-button"),resultsInfo=document.getElementById("results-info");function getQueryParam(e){const t=new URLSearchParams(window.location.search);return t.get(e)}function convertLinksToAnchors(e){if(!e)return"";const t=/(https?:\/\/[^\s<]+[^\s.,?!<>"'|])/gi;return e.replace(t,e=>`<a href="${e}" target="_blank" rel="noopener noreferrer">${e}</a>`)}function performSearch(e,t){if(e.length<2){resultsInfo.innerHTML="",resultsInfo.innerHTML="<strong>Please enter at least 2 characters to search.</strong>",results.innerHTML="";return}e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");let n=t.search(e);resultsInfo.innerHTML=`Found ${n.length} results for "<strong>${e}</strong>"`;const s=/https:\/\/twitter\.com\/[A-Za-z0-9_]+\/status\/\d+|https:\/\/x\.com\/[A-Za-z0-9_]+\/status\/\d+/g;results.innerHTML=n.map((t,n)=>{const o=t.item,i=o.ask.match(s)?`<div class="twitter-placeholder" data-link="${o.ask.replace("x.com","twitter.com")}"></div>`:"";let a=o.thread,r=a?`<div class="openThread" onclick="openPostPopup('${o.link}')"><span>Open Thread</span>
          <i class="arrow"> <ion-icon name="chevron-forward-outline"></ion-icon></i>
          </div>`:"";const c=convertLinksToAnchors(highlightSearchTerm(o.ask,e));return`
         <article class="Post" id="${o.title}" >
           <div class="postHeader">
          
             <a class="index" href="${o.link}" data-link="${o.link}">
         #${n+1}
       </a>
      <!--- <a href="${o.link}" data-link="${o.link}">
         <ion-icon name="open-outline" ></ion-icon>
       </a>--->

              <i href="${o.link}" class="copy-link-icon" onClick="copyLink('${o.link}')">
         <ion-icon name="copy-outline" ></ion-icon>
       </i>
            </div>

           <section class="Main">
             <div class="Question">
               <header><strong>Anonymous</strong></header>
                ${i}

                <p>${c}</p>
            
             </div>
             <div class="Reply">
               <header>
                 <strong>${username}</strong>
                 <small>${o.date}</small>
               </header>
               <p>${highlightSearchTerm(o.reply,e)}</p>
             </div>
           </section>
           
           <div class="postFooter">
             ${r}
            </div>


         </article>
       `}).join(""),lazyLoadTweets()}function highlightSearchTerm(e,t){if(!e)return"";const n=new RegExp(`(${t})`,"gi");return e.replace(n,'<span class="highlight">$1</span>')}function lazyLoadTweets(){const e={root:null,rootMargin:"0px 0px 900px 0px",threshold:.1},t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,s=n.getAttribute("data-link");if(s){const e=wrapTwitterLinks(s);n.innerHTML=e,console.log("Loaded tweet:",n),window.twttr&&window.twttr.widgets.load()}t.unobserve(n)}})},e);document.querySelectorAll(".twitter-placeholder").forEach(e=>{t.observe(e)})}function wrapTwitterLinks(e){const t=e.match(/https:\/\/(twitter\.com|x\.com)\/[A-Za-z0-9_]+\/status\/\d+/);if(t){const e=t[0].replace("x.com","twitter.com");return`<blockquote class="twitter-tweet" data-chrome="transparent"><a href="${e}"></a></blockquote>`}return""}let url=window.location.pathname.replace("/search/","");console.log(url+"/index.json"),fetch(url+"/index.json").then(e=>e.json()).then(e=>{let s=e;const t=new Fuse(s,{keys:["ask","reply"],threshold:.2,includeScore:!0,includeMatches:!0,shouldSort:!1}),n=getQueryParam("q");n&&(input.value=n,performSearch(n,t)),searchButton.addEventListener("click",function(){const e=input.value.trim();performSearch(e,t);const n=`${window.location.pathname}?q=${encodeURIComponent(e)}`;window.history.pushState({},"",n)}),input.addEventListener("keypress",function(e){if(e.key==="Enter"){const n=input.value.trim();performSearch(n,t);const s=`${window.location.pathname}?q=${encodeURIComponent(n)}`;window.history.pushState({},"",s),e.preventDefault()}})});function openPostPopup(e){const t=document.getElementById("post-content");t.setAttribute("data-post-url",e),console.log(e),t.innerHTML="<div class='loader'></div>",fetch(e).then(e=>{if(!e.ok)throw new Error(`Failed to load post: ${e.statusText}`);return e.text()}).then(e=>{console.log(e),t.innerHTML=e,window.twttr&&window.twttr.widgets.load(),cleanPostContent()}).catch(e=>{t.innerHTML=`<p>Error loading content: ${e.message}</p>`});const n=document.getElementById("postModal");n.showModal()}function cleanPostContent(){const e=document.getElementById("post-content");let t=e.querySelector("details");console.log(e),e.querySelector(".siteHeader").remove(),t?t.setAttribute("open",!0):"";const n=e.querySelectorAll("navigation .siteHeader .header, footer, .menu");console.log(n),n.forEach(e=>{e.style.display="none"})}document.getElementById("close-popup").addEventListener("click",closePopup),document.getElementById("postModal").addEventListener("click",function(e){e.target===this&&closePopup()});function closePopup(){const e=document.getElementById("postModal");e.close();const t=document.getElementById("post-content");t.innerHTML=""}function showCopyPopup(e,t=document.body){const n=document.createElement("div");n.className="copy-popup",n.textContent=e,t.appendChild(n),setTimeout(()=>{n.classList.add("fade-out"),n.addEventListener("transitionend",()=>n.remove())},2e3)}document.getElementById("copy-outline").addEventListener("click",function(){const e=document.getElementById("post-content"),t=e.getAttribute("data-post-url");navigator.clipboard.writeText(t).then(()=>{const e=document.querySelector(".modal-content");showCopyPopup("Post URL copied to clipboard",e)}).catch(e=>{console.error("Failed to copy post URL:",e)})});function copyLink(e){const t=window.location.origin,n=`${t}${e}`;navigator.clipboard.writeText(n).then(()=>{showCopyPopup("Post URL copied to clipboard")}).catch(e=>{console.error("Failed to copy link:",e)})}function showCopyPopu1p(e){const t=document.createElement("div");t.className="copy-popup",t.textContent=e,document.body.appendChild(t)}</script><style>#results-info{padding:24px 0;font-size:14px}#search-results{display:flex;flex-direction:column;gap:12px}.elbi-results-item{background-color:#fff;color:#000;padding:10px;border:1px solid #000;margin-bottom:10px}.highlight{background-color:#ff0;background-color:#fff3a6;background-color:#ffa6e06b}body:has(dialog[open]){overflow:hidden}dialog#postModal{max-width:700px;width:-webkit-fill-available;height:-webkit-fill-available;max-height:100%;height:100%}.modal-content{background:#fff;height:-webkit-fill-available;min-height:100%;min-width:100%;height:100%;min-height:100%;min-width:100%;overflow:auto}iframe#post-iframe{height:-webkit-fill-available}dialog#post-popup{}.modal-content{display:flex;flex-direction:column}button#close-popup{width:32px}dialog#postModal{border:0;background:0 0}::backdrop{background:#000000ab}.modal-content{background:#fff}button#close-popup{position:sticky;top:0}.modal-content{padding-bottom:72px;border-radius:9px;border-radius:0}.modalheader button{background:0 0;color:var(--secondary);font-size:16px;display:flex;font-size:medium}header.modalheader{position:sticky;top:0;border-bottom:1px solid var(--dividers);padding:12px;display:flex;align-items:center;gap:12px}.loader{margin-top:100px;display:inline-block;width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #1f282d7f;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}div#post-content{display:flex;align-items:center;justify-content:center}.openThread{padding-top:6px;text-underline-offset:1px;background:var(--reply-bg);margin-top:8px;border-radius:5px;border:1px solid var(--reply-bg);color:rgb(0 0 0/.7)}.openThread{display:flex;align-items:center;cursor:pointer;transition:transform .2s ease,background-color .2s ease}i.arrow{display:flex;padding:2px;color:#959595;margin-left:auto;border-radius:4px}.openThread .arrow{transition:transform .2s ease}.openThread:active{transform:scale(.98);background-color:#e0e0e0f2}.openThread:active .arrow{transform:translateX(2px)}.index{text-decoration:none!important}</style><script type=module src=https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js></script><script>window.twttr&&(console.log("twitter load"),window.twttr.widgets.load())</script></body></html>